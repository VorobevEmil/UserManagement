@using UserManagement.Client.Services.Authorization
<AuthorizeView>
    <Authorized>

        <MudText>Привет @(context.User.Identity!.Name)!</MudText>
        <span class="mx-2"></span>
        <MudButton StartIcon="@Icons.Filled.ExitToApp" Color="Color.Secondary" Variant="Variant.Filled" OnClick="LogoutAsync">Выход</MudButton>
    </Authorized>
</AuthorizeView>

@code {
    [Inject] private HostAuthenticationStateProvider HostAuthenticationStateProvider { get; set; } = default!;
    [CascadingParameter] private EventCallback StateHasChangeCallback { get; set; }

    private async Task LogoutAsync()
    {
        await HttpClient.PostAsync("api/Account/Logout", null);
        HostAuthenticationStateProvider.RefreshState();
        await StateHasChangeCallback.InvokeAsync();
    }
}